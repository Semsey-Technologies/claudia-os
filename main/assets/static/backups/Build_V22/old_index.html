<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Claudia Launcher</title>
<style>
body { font-family: Arial, sans-serif; background-color: #1c1c1c; color: #fff; display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100vh; margin: 0; }
.container { width: 90%; max-width: 500px; text-align: center; }
h1 { margin-bottom: 20px; }
textarea { width: 100%; height: 80px; margin-bottom: 10px; padding: 10px; border-radius: 5px; border: none; font-size: 16px; }
select { width: 100%; padding: 10px; margin-bottom: 10px; border-radius: 5px; border: none; font-size: 16px; }
button { width: 100%; padding: 15px; font-size: 16px; border-radius: 5px; border: none; background-color: #4CAF50; color: white; cursor: pointer; }
button:hover { background-color: #45a049; }
#status { margin-top: 15px; font-size: 14px; color: #ffcc00; }
</style>
</head>
<body>
<div class="container">
  <h1>Claudia Command Launcher</h1>
  <p>Type what you want Claudia to do below, select which device to send it to, then press "Send Command".</p>

  <textarea id="commandInput" placeholder="Type your command here (e.g., open calculator)"></textarea>

  <select id="deviceSelect">
    <option value="linux">Linux Server</option>
    <option value="windows">Windows PC</option>
    <option value="phone">Phone</option>
  </select>

  <button id="sendCommand">Send Command</button>

  <div id="status"></div>
</div>

<script>
const sendBtn = document.getElementById('sendCommand');
const commandInput = document.getElementById('commandInput');
const deviceSelect = document.getElementById('deviceSelect');
const statusDiv = document.getElementById('status');

sendBtn.addEventListener('click', async () => {
    const text = commandInput.value.trim();
    const device = deviceSelect.value;

    if (!text) {
        statusDiv.textContent = "Please type a command before sending.";
        return;
    }

    statusDiv.textContent = "Sending command...";

    try {
        const response = await fetch('http://192.168.1.191:5050/command', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ text, device })
        });

        const result = await response.json();

        if (response.ok) {
            statusDiv.textContent = `Success: ${result.status}`;
        } else {
            statusDiv.textContent = `Error: ${result.error}`;
        }
    } catch (err) {
        statusDiv.textContent = `Network Error: ${err.message}`;
    }
});
</script>
</body>
</html>
